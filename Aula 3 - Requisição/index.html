<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="assets/img/esfera.png" type="image/x-icon">
    <!-- Site do Ryan -->
    <link rel="stylesheet" href="https://spartoi.vercel.app/assets/css/style.css">
    <script src="https://spartoi.vercel.app/assets/js/script.js" defer></script>
         <!-- Unicons CSS -->
     <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css" />
     <!-- Bootstrap 4.1 -->
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
     <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
     <!-- Font-awe -->
     <script src="https://kit.fontawesome.com/12a0142524.js" crossorigin="anonymous"></script>
    <!-- Css e javacript -->
    <link rel="stylesheet" href="assets/css/style.css">
    <script src="assets/js/script.js" defer></script>
    <title>Requisição Assíncrona com fetch</title>
</head>
<body>
      <!-- ----- V-libras -------- -->
   <div vw class="enabled bg-transparente" id="vlibras-container">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
        <div class="vw-plugin-top-wrapper"></div>
    </div>
</div>

<!-- Fixed Icon -->
<div id="colorToggle">
    <i class="fas fa-sun"></i>
</div>

<script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
<script>
    new window.VLibras.Widget('https://vlibras.gov.br/app');
</script>

  <!-- ----------- Header ---------------- -->
<header>
    <nav class="header header-service" id="header">
      <i class="uil uil-bars abrir-subheader"></i>
      <a class="logo-A" href="../index.html">SparTask</a>

      <ul class="header-links">
        <i class="uil uil-times fechar-subheader"></i>
        <li><a class="link-nav active-link" href="../index.html">Home</a></li>
        <li><a class="link-nav " href="../Aula 3 - Requisição/pages/about.html">Sobre</a></li>
      </ul>

      <i id="searchIcon"> <img src="assets/img/esfera.png" alt="esfera" class="logo-header"></i>
      <div class="search-box">
        <i class="uil uil-search search-icon"></i>
        <input type="text" placeholder="Pesquise aqui..." />
      </div>
    </nav>
</header>

<!-- ---------------- Banner ------------------------- -->
<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img class="d-block w-100" src="assets/img/jogo.jpg" alt="Primeiro Slide">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="https://cdn.wccftech.com/wp-content/uploads/2023/12/Dragon-Ball-Sparking-Zero-scaled.jpg" alt="Segundo Slide">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="https://a.storyblok.com/f/178900/960x538/a9d759bbd7/dragon-ball-sparking-zero-trailer.jpg" alt="Terceiro Slide">
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Anterior</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Próximo</span>
  </a>
</div>

<!-- ---------------- Noticias ----------------------- -->
    <div class="container">
      <br><br>
      <h1 class="h1-banner-2 text-center">NOTÍCIAS</h1>
      <br>
    </div>
    <div class="container">
      <div id="dadoscapturados"></div>
      <br><br>
      <h1 class="h1-banner-2 text-center">Código</h1>
      <br>
      <div class="code-box">
        <pre>
          <code>
            // Função para fazer a requisição AJAX
            function fazerRequisicao() {
             const xml = new XMLHttpRequest(); // Cria um novo objeto XMLHttpRequest para fazer a requisição

             xml.open('GET', 'https://jsonplaceholder.typicode.com/posts/1', true);
             // Abre uma nova requisição GET assíncrona para o servidor web de teste

             xml.onreadystatechange = function() { // Define uma função a ser chamada quando o estado da requisição mudar
                 if (xml.readyState === XMLHttpRequest.DONE) { // Verifica se a requisição está concluída
                     if (xml.status === 200) { // Verifica se a resposta da requisição foi bem-sucedida
                         const responseData = JSON.parse(xml.responseText); // Converte a resposta em formato JSON para um objeto JavaScript
                         manipularDados(responseData); // Chama a função para manipular os dados recebidos
                     } else {
                         manipularErro(); // Chama a função para manipular o caso de erro na requisição
                     }
                 }
             };

             xml.send(); // Envia a requisição
         }

         // Função para manipular os dados recebidos
         function manipularDados(data) {
             const container = document.getElementById('dadoscapturados'); // Obtém a referência ao elemento HTML onde os dados serão exibidos

             for (let i = 1; i <= 3; i++) { // Itera para os próximos 3 itens
                 const section = document.createElement('section'); // Cria um novo elemento HTML 'section'
                 section.innerHTML = `
                     <h2>${data.title}</h2>
                     <p>${data.body}</p>
                 `; // Preenche o conteúdo HTML da 'section' com os dados do item atual
                 container.appendChild(section); // Adiciona a 'section' ao container
             }
         }

         // Função para manipular erro na requisição
         function manipularErro() {
             const container = document.getElementById('dadoscapturados'); // Obtém a referência ao elemento HTML onde os dados serão exibidos
             container.innerHTML = 'Erro ao carregar os dados.'; // Exibe uma mensagem de erro na página
         }

         // Chamada para fazer a requisição quando a janela é carregada
         window.onload = fazerRequisicao; // Define a função 'fazerRequisicao' para ser executada quando a janela é carregada

          </code>
        </pre>
      </div>

      <br>
      <div class="code-box">
        <pre>
          <code>
Links
 Site do Ryan e Bootstrap
 https://spartoi.vercel.app/

Referência
 https://www.treinaweb.com.br/blog/requisicoes-ajax-no-javascript-com-a-fetch-api#google_vignette
 https://jsonplaceholder.typicode.com/posts/1
      </code>
      </pre>
      </div>
    </div>
<!-- ------------ Footer ------------- -->
<footer class="footer-distributed">
  <div class="footer-left">
      <h3>SparTask</h3>
      <p class="footer-company-name">Copyright © 2024 Ryan Bomfim All rights reserved</p>
  </div>
  <div class="footer-center">
      <div>
          <i class="fa fa-map-marker"></i>
          <p><span>São Paulo</span>
              Praia grande</p>
      </div>

      <div>
          <i class="fa fa-phone"></i>
          <p>+55 13 99606-1925</p>
      </div>

  </div>
  <div class="footer-right">
      <p class="footer-company-about">
          <span>Sobre</span>
          Website desenvolvido a fins educacionais e produzido por <br>
           Ryan de Oliveira Carlos Bomfim.<br>
      </p>
      <div class="footer-icons">
          <a href="https://www.instagram.com/iam.ryan10/"><i class="fa fa-instagram"></i></a>
      </div>
  </div>
</footer> <!-- /Fim da seção -->

  </body>
</html>
